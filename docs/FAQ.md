# Frequently Asked Questions

## General

### What is InfraSync?
InfraSync is a tool that analyzes Terraform plans and presents changes in a beautiful, easy-to-understand format. It's designed for code reviews, detecting dangerous infrastructure changes, and speeding up PR reviews.

### How is this different from `terraform plan`?
`terraform plan` shows raw Terraform output in the terminal. InfraSync:
- Formats output for GitHub PR comments
- Detects security risks automatically
- Highlights dangerous operations (database deletions, etc.)
- Provides colored, organized terminal output
- Integrates seamlessly with CI/CD

### Is InfraSync free?
Yes! InfraSync is open source under the MIT license. Free for commercial and personal use.

### Does InfraSync replace Terraform Cloud/Atlantis?
No, it complements them. InfraSync focuses on plan visualization and security analysis. It can work alongside:
- Terraform Cloud (for state management, runs)
- Atlantis (for PR automation)
- Spacelift/env0 (for infrastructure orchestration)

## Installation & Setup

### Which platforms are supported?
- Linux (amd64, arm64)
- macOS (Intel, Apple Silicon)
- Windows (amd64)
- Docker (any platform)

### Do I need Go installed?
No, if you download pre-built binaries. Yes, if building from source.

### Can I use InfraSync locally without GitHub?
Yes! InfraSync works standalone:
```bash
terraform plan -out=tfplan
terraform show -json tfplan > tfplan.json
infrasync tfplan.json
```

### How do I update InfraSync?
Download the latest binary from [releases](https://github.com/kvizadsaderah/infrasync/releases) and replace your existing one.

## Features

### What security checks does InfraSync perform?
- **Critical**:
  - Database deletions/replacements
  - Production resource deletions
  - Encryption being disabled
  - Backup/versioning being disabled
- **High Risk**:
  - Storage deletions
  - Security group rule weakening
  - Load balancer replacements
  - Network resource deletions

### Can I customize the security rules?
Not yet, but it's on the roadmap! Track [this issue](https://github.com/kvizadsaderah/infrasync/issues/1) for custom YAML-based rules.

### Does InfraSync work with Terraform modules?
Yes! It analyzes the complete plan, including all module resources.

### What Terraform versions are supported?
InfraSync parses Terraform JSON plan format, which is stable across versions. Tested with:
- Terraform 1.x
- Terraform 1.6+
- Terraform 1.9+

### Does InfraSync support HCL files directly?
No, it requires JSON plan files generated by `terraform show -json`. This ensures accurate parsing.

## Cloud Providers

### Which cloud providers are supported?
Currently optimized for:
- **AWS** (full support)
- **Azure** (partial)
- **GCP** (partial)
- **Generic Terraform resources** (basic support)

Azure/GCP support is being expanded. Contributions welcome!

### I use multiple clouds. Will InfraSync work?
Yes! It works with any Terraform provider. Some cloud-specific security rules may not trigger for lesser-known providers, but basic analysis works everywhere.

## GitHub Actions

### Why is my PR comment not appearing?
Check:
1. Workflow has `pull-requests: write` permission
2. Action runs on `pull_request` event (not `push`)
3. `github-token` is provided
4. Repository allows bot comments

### Can I run InfraSync on multiple directories?
Yes! Use a matrix strategy:
```yaml
strategy:
  matrix:
    dir: [terraform/prod, terraform/staging]
steps:
  - uses: kvizadsaderah/infrasync/action@v0.2.0
    with:
      plan-file: ${{ matrix.dir }}/tfplan.json
```

### Does InfraSync update existing comments?
Yes, if `update-comment: true` (default). This prevents comment spam.

### Can I run InfraSync without commenting?
Yes:
```yaml
- uses: kvizadsaderah/infrasync/action@v0.2.0
  with:
    plan-file: tfplan.json
    post-comment: false
```
Or use CLI directly and handle output yourself.

### How much does GitHub Actions usage cost?
InfraSync adds ~30 seconds to workflow time. On public repos, it's free. On private repos, cost depends on your GitHub plan.

## Usage

### Can I save the output to a file?
Yes:
```bash
infrasync --format markdown --output plan.md tfplan.json
```

### What output formats are supported?
- **CLI**: Colored terminal output (default)
- **Markdown**: GitHub/GitLab PR comments
- **Compact**: One-line summary

JSON and HTML formats are planned.

### Can I disable security warnings?
Yes:
```bash
infrasync --warnings=false tfplan.json
```

### What do the exit codes mean?
- `0`: No changes detected
- `1`: Changes detected (normal)
- `2`: Changes with critical security warnings

Use in CI:
```bash
if infrasync tfplan.json; then
  echo "Safe to apply"
else
  echo "Review required"
fi
```

### Can I filter by resource type?
Not yet, but planned! Track [this issue](https://github.com/kvizadsaderah/infrasync/issues/2).

## Troubleshooting

### "Error reading plan file"
- Ensure file is valid JSON: `cat tfplan.json | jq .`
- Generate correctly: `terraform show -json tfplan > tfplan.json`
- Check file permissions

### "No changes detected" but there are changes
- Verify plan isn't empty: `cat tfplan.json | jq .resource_changes`
- Ensure you're using the correct plan file
- Check Terraform ran successfully

### Colors not showing in terminal
- Check if terminal supports colors
- Use `--format cli` explicitly
- Try: `export TERM=xterm-256color`

### GitHub Action fails with "go: command not found"
This shouldn't happen as the action includes `setup-go`. If it does:
- Check runner image
- Manually add `setup-go` step before InfraSync

### Performance is slow on large plans
This is expected for plans >5000 resources. Optimizations planned. For now:
- Use `--compact` mode
- Run in background in CI
- Consider breaking up monolithic Terraform

## Security & Privacy

### Does InfraSync send data anywhere?
No. InfraSync runs entirely locally or in your CI/CD. No telemetry, no external calls.

### Does it expose sensitive values?
No. InfraSync respects Terraform's `(sensitive)` markers and never displays sensitive values.

### Can I use InfraSync in air-gapped environments?
Yes! Download the binary and use it offline. No internet required after installation.

### Is it safe to use in production?
Yes. InfraSync is read-only and doesn't modify your infrastructure or state files.

## Development

### How can I contribute?
See [CONTRIBUTING.md](../CONTRIBUTING.md). We welcome:
- Bug reports
- Feature requests
- Code contributions
- Documentation improvements
- Cloud provider support

### I found a bug. Where do I report it?
[Open an issue](https://github.com/kvizadsaderah/infrasync/issues/new) with:
- InfraSync version (`infrasync --version`)
- Steps to reproduce
- Expected vs actual behavior
- Anonymized plan JSON (if possible)

### Can I build custom analyzers?
Not yet, but plugin system is planned for v0.3.0.

### Is there a roadmap?
Yes! See [README.md](../README.md#-roadmap) for planned features.

## Comparison

### InfraSync vs Atlantis
- **Atlantis**: Full PR automation (plan, apply, locks)
- **InfraSync**: Plan visualization + security analysis

Use both! InfraSync can run inside Atlantis workflows.

### InfraSync vs Terraform Cloud
- **Terraform Cloud**: State management, remote runs, RBAC, cost estimation
- **InfraSync**: Beautiful plan output, security warnings

Use both! InfraSync can analyze Terraform Cloud plans.

### InfraSync vs Checkov/tfsec
- **Checkov/tfsec**: Static code analysis (scan .tf files)
- **InfraSync**: Plan analysis (scan what will actually change)

Complementary! Use both for defense-in-depth.

### InfraSync vs OPA/Sentinel
- **OPA/Sentinel**: Policy as code (enforce rules)
- **InfraSync**: Human-readable analysis (inform humans)

Different use cases. OPA enforces, InfraSync informs.

## Pricing & Licensing

### Is there a paid version?
No current plans for paid features. InfraSync will remain free and open source.

### Can I use this commercially?
Yes! MIT license allows commercial use.

### Can I modify the source code?
Yes! Fork it, modify it, use it however you want (within MIT license terms).

### Will there be enterprise features?
Potentially:
- SaaS hosted version
- Plan history database
- Advanced analytics
- Premium support contracts

But core CLI/Action will always be free.

## Still have questions?

- **Discussions**: https://github.com/kvizadsaderah/infrasync/discussions
- **Issues**: https://github.com/kvizadsaderah/infrasync/issues
- **Email**: [Create an issue, no public email yet]

---

**Last Updated**: 2025-11-22
